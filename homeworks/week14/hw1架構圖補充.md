[圖片網址](https://imgur.com/9H6kUMg)

1. 當有長網址轉換需求時，會先到 DB01 (匯集所有的資料)，等地方檢查是否已經有此筆檔案，並回傳資料，考慮到效能規模問題，這個部分可以進一步將資料採取分散保存的方式將資料拆成多等份，並同時發送到各個不同的資料庫等地方查詢
2. 關於長網址 -> 短網址的演算法
   我目前是選擇使用之前寫的亂數產生器，製作出 6 位數之後，並在最前面加上 0 ~ 1, a ~ z, A ~ Z 的任一代號（可調整，甚至可保留部分代號作為特殊用途）
3. 之所以要有代號，是因為我目前期望在後續的 DB 分配時，會依照不同代號去不同的 DB 存取資料，這樣接著 Server 在讀取短網址時，可以依據代號，連去不同的 DB 查詢，應該能增進效能。
4. 產生出代號後，去負責該代號的 DB server 檢查是否有重複值，若有則在最後加上第八位數(理論上機率應該不高吧~)，並寫入該 DB 存下相對應的網址，除此之外，會定期備份資料到 DB01
5. 接著回傳到前台，使用者得到短網址，
6. 當使用短網址連結時，會分析第一個代號，同樣去負責代號的 DB 查詢，而不必到 DB01 做大量查詢
7. 假設某個負責代號的 DB Server 出事了，則轉為去查詢 DB01。而 DB01 理論上應該還要有 DB02 做所有資料的備份。
8. 這部分沒有畫在圖內，但應該可以在查詢到資料時，服務過的 PHP server 能將資料快取起來，在一定時間內，收到相同短網址時，可直接從 server 快取檢查是否有資料，若沒有才轉到資料庫查詢，這樣應該會更快。